import{_ as P}from"./Accordion.vue_vue_type_style_index_0_lang-8ee2a69f.js";import{_ as E}from"./OrderListItem.vue_vue_type_script_setup_true_lang-f2209271.js";import{a as g,o as s,v as m,w as f,f as n,D as h,c as i,F as p,E as b,g as N,z as x,u as l,B as y,S as $,C as k,y as C,b as R}from"./index-13c58849.js";import{d as v,b as S}from"./index-49164287.js";import{I as B}from"./requests-89d0a4b8.js";const w=n("span",{class:"badge text-bg-secondary me-5"},"Finished",-1),F={class:"fw-bold m-0 p-0"},O={class:"list-group mx-3"},I={class:"my-2 mx-3 w-100"},V=n("b",null,"Total: ",-1),z=g({__name:"FinishedOrder",props:{order:null},setup(c){return(e,t)=>(s(),m(P,null,{header:f(()=>[w,n("p",F,h(`Pesanan pada ${c.order.timeString}`),1)]),default:f(()=>[n("ul",O,[(s(!0),i(p,null,b(c.order.orders,o=>(s(),m(E,{item:o},null,8,["item"]))),256))]),n("div",I,[V,N(" "+h(c.order.hargaTotal),1)])]),_:1}))}});const T={class:"mb-3"},L=["value","max"],D=g({__name:"PageButtons",setup(c){const e=v();function t(a){if(a instanceof KeyboardEvent&&a.key!="Enter")return;const r=a.target,d=parseInt(r.value);e.changePage(isNaN(d)?0:d-1)}const o=x(()=>e.page<e.totalPages),u=x(()=>e.page>0);function _(a){e.page=Math.max(0,Math.min(e.totalPages,e.page+a))}return(a,r)=>(s(),i("div",T,[l(u)?(s(),i("button",{key:0,class:"btn btn-secondary",onClick:r[0]||(r[0]=d=>_(-1))}," Prev ")):y("",!0),n("input",{class:"col-1 mx-2 p-2 border-0 rounded",type:"number",title:"Page Number",min:"1",onKeypress:t,onFocusout:t,value:l(e).page+1,max:l(e).totalPages},null,40,L),l(o)?(s(),i("button",{key:1,class:"btn btn-secondary",onClick:r[1]||(r[1]=d=>_(1))}," Next ")):y("",!0)]))}}),H={class:"my-4 mx-3"},q=g({__name:"App",setup(c){const e=v();e.initialize();const t=S();t.setLoading(!0);const o=new B(e.initialize).on("success",()=>{t.cleanup(),e.isHistoryInitialized||t.setError($,3e3)}).on("failure",u=>{console.error(u),t.setLoading(!1),t.setError(k)});return o.run(),C(()=>o.cleanup()),(u,_)=>(s(),i(p,null,[n("div",H,[(s(!0),i(p,null,b(l(e).current,a=>(s(),m(z,{order:a},null,8,["order"]))),256))]),R(D)],64))}});export{q as default};
