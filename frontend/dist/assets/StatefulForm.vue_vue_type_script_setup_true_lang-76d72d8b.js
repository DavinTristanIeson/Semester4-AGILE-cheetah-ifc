import{a as V,I as y,o as l,c as n,g as k,D as f,F as b,E as g,f as c,B as d,t as $,J as p,v as _,K as x}from"./index-13c58849.js";import{_ as B}from"./TextInput.vue_vue_type_script_setup_true_lang-bd015f1a.js";import{_ as S}from"./CheckboxInput.vue_vue_type_script_setup_true_lang-518f203b.js";const F={class:"mb-3"},w={class:"form-check"},C=["for"],E=["value","id","name","checked"],N={key:0,class:"text-danger"},R=V({__name:"RadioInput",props:{input:null,shouldValidate:{type:Boolean}},emits:["update:value"],setup(o,{emit:m}){const i=o,e=y(i.input);function v(u){const r=u.target;e.value.value=r.value,i.shouldValidate&&e.value.validate(),m("update:value",e.value.value)}return(u,r)=>(l(),n("div",F,[k(f(e.value.label)+" ",1),(l(!0),n(b,null,g(e.value.options,s=>(l(),n("div",w,[c("label",{class:"form-check-label",for:s.label+" "+e.value.id},f(s.label),9,C),c("input",{class:"form-check-input",type:"radio",value:s.value,id:s.label+" "+e.value.id,name:e.value.id,checked:e.value.value==s.value,onChange:v},null,40,E)]))),256)),e.value.error?(l(),n("div",N,f(e.value.error),1)):d("",!0)]))}}),D={class:"col-xl-6 bg-white col-lg-8 col-10 shadow px-3 rounded-2 py-4"},I=["action","method","onSubmit"],T=["value"],M=V({__name:"StatefulForm",props:{action:null,method:null,inputs:null,validateFromStart:{type:Boolean},purpose:null},emits:["submit"],setup(o,{emit:m}){const i=o,e=$({isValidating:i.validateFromStart??!1});function v(){e.isValidating=!0;let t=!1;for(let a of i.inputs)a.validate(),t=t||a.error.length>0;if(t)return;const h={};i.inputs.forEach(a=>{h[a.label]=a.value}),m("submit",h)}function u(t){return t.type=="text"}function r(t){return t.type=="radio"}function s(t){return t.type=="checkbox"}return(t,h)=>(l(),n("div",D,[c("form",{action:o.action,method:o.method,class:"needs-validation",autocomplete:"off",novalidate:"",onSubmit:x(v,["prevent"])},[p(t.$slots,"header"),(l(!0),n(b,null,g(o.inputs,a=>(l(),n(b,null,[u(a)?(l(),_(B,{key:0,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):d("",!0),r(a)?(l(),_(R,{key:1,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):d("",!0),s(a)?(l(),_(S,{key:2,input:a,shouldValidate:e.isValidating},null,8,["input","shouldValidate"])):d("",!0)],64))),256)),p(t.$slots,"after"),c("input",{class:"btn btn-primary w-100 py-2 fs-5",type:"submit",value:o.purpose},null,8,T),p(t.$slots,"footer")],40,I)]))}});export{M as _};
