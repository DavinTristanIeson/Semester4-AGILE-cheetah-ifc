import{_ as h}from"./StatefulForm.vue_vue_type_script_setup_true_lang-76d72d8b.js";import{T as o,R as x}from"./inputs-6139d781.js";import{a as p,t as g,i as f,o as n,v as m,w as _,f as r,g as b,b as v,e as w,A as y,U as k,C as N,c as S,F as j,H as P}from"./index-13c58849.js";import{u as T}from"./index-49164287.js";import{v as C,a as E,b as O,c as $}from"./inputValidators-80e8cad1.js";import"./TextInput.vue_vue_type_script_setup_true_lang-bd015f1a.js";import"./CheckboxInput.vue_vue_type_script_setup_true_lang-518f203b.js";const M={class:"fw-light"},A=p({__name:"LoginForm",emits:["changemode"],setup(u){const l=[new o("Email","",e=>e.length==0?"Email harus diisi":"",{semanticType:"email"}),new o("Password","",e=>e.length==0?"Password harus diisi":"",{semanticType:"password"})],s=g({errMsg:""}),t=f(),c=T();async function d(e){try{const a=await fetch(y+"/accounts/login",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.Email,password:e.Password})});if(!a.ok)s.errMsg="Email atau password salah!";else{const i=await a.json();c.login(k.fromJSON(i)),t.replace({name:"index"})}}catch(a){console.error(a),s.errMsg=N}}return(e,a)=>(n(),m(h,{action:"/login",method:"post",inputs:l,onSubmit:d,purpose:"Login"},{after:_(()=>[r("p",M,[b("Belum ada akun? "),r("a",{href:"#",onClick:a[0]||(a[0]=i=>e.$emit("changemode"))},"Daftar")]),v(w,{message:s.errMsg},null,8,["message"])]),_:1}))}}),F={class:"fw-light"},I=p({__name:"RegisterForm",emits:["changemode"],setup(u){const l=[new o("Email","",C,{semanticType:"email"}),new o("Password","",E,{semanticType:"password"}),new o("Nama","",O),new x("Jenis Kelamin","",[{label:"Pria",value:"male"},{label:"Wanita",value:"female"}],"Pilih salah satu jenis kelamin"),new o("No. Telp","",$)],s=g({errMsg:""}),t=f(),c=T();async function d(e){try{const a=await fetch(y+"/accounts/register",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.Email,password:e.Password,name:e.Nama,gender:e["Jenis Kelamin"]=="male",telp:e["No. Telp"]})});if(!a.ok)s.errMsg="Email sudah digunakan orang lain!";else{const i=await a.json();c.login(k.fromJSON(i)),t.replace({name:"index"})}}catch(a){console.error(a),s.errMsg=N}}return(e,a)=>(n(),m(h,{action:"/login",method:"post",inputs:l,onSubmit:d,purpose:"Daftar"},{after:_(()=>[r("p",F,[b("Sudah ada akun? "),r("a",{href:"#",onClick:a[0]||(a[0]=i=>e.$emit("changemode"))},"Login")]),v(w,{message:s.errMsg},null,8,["message"])]),_:1}))}}),L=P('<div class="hide-overflow position-relative vh-100"><div id="tsvrspn-mark"><div id="tsvrspn-icon"><div class="shadow-thick"></div><div class="shadow-thick"></div></div><p class="shadow-thick"> The Savory Spoon </p></div><div class="decoball" id="decoball-a"><img src="https://goldbelly.imgix.net/uploads/showcase_media_asset/image/126887/dry-aged-boneless-ribeye-steak-dinner-for-4.81c3bdc05fe6bdb2c2214709863120e0.jpg?ixlib=react-9.0.2&amp;auto=format&amp;ar=1%3A1" alt="Food Image #1"></div><div class="decoball" id="decoball-b"><img src="https://goldbelly.imgix.net/uploads/showcase_media_asset/image/86731/memphis-pulled-pork-shoulder-4-lbs.089448f3aebd24fe82f223151314d853.jpg?ixlib=react-9.0.2&amp;auto=format&amp;ar=1%3A1" alt="Food Image #2"></div><div class="decoball" id="decoball-c"><img src="https://goldbelly.imgix.net/uploads/showcase_media_asset/image/75464/carolina-pulled-pork-sandwich-pack.8e672a876d720c8471b08ffa47fbbbc1.jpg?ixlib=react-9.0.2&amp;auto=format&amp;ar=1%3A1" alt="Food Image #3"></div></div>',1),H=p({__name:"App",emits:["loading","error","success"],setup(u,{emit:l}){const s=g({isLogin:!0});function t(){s.isLogin=!s.isLogin}return(c,d)=>(n(),S(j,null,[L,r("main",null,[s.isLogin?(n(),m(A,{key:0,onChangemode:t,class:"center-screen"})):(n(),m(I,{key:1,onChangemode:t,class:"center-screen"}))])],64))}});export{H as default};
